---
"$schema": http://json-schema.org/draft-04/hyper-schema
title: セッション管理 - ユーザ向け/Sessions
description: セッションを管理します
stability: prototype
strictProperties: true
type:
  - object
definitions:
  id:
    description: EventSource オブジェクトの last event ID の値に設定する、イベント ID です。
    readOnly: true
    format: uuid
    type:
      - string
    example: "813bb7b8-f626-4219-ac72-4628571f7c6a"
  session:
    description: ユーザのセッション情報
    readOnly: true
    type:
      - object
    properties:
      id:
        "$ref": "/schemata/sessions#/definitions/id"
      sa_account:
        "$ref": "/schemata/sessions#/definitions/sa_account"
  gspcp_session:
    description: gspcpが生成したセッションID
    readOnly: true
    type:
      - string
    example: 2d2027ea322c5f8e87ac110d859f69a5
  sa_account:
    description: サービスオンラインのアカウント名
    readOnly: true
    type:
      - string
    example: SA0000000
    pattern: "^SA[0-9]{7}$"
  event:
    description: イベントのタイプです。これが指定されている場合、イベントはブラウザ内で、イベント名に応じたイベントリスナへ送られます。
    readOnly: true
    type:
      - string
    example: heartBeat
  retry:
    description: イベントの送信を試みるときに使用する reconnection time です。
    readOnly: true
    type:
      - integer
    example: 10000
links:
  - description: セッションを作成する
    href: "/v1/sessions"
    method: POST
    title: Create
    rel: create
    http_header:
      X-CSRF-TOKEN: "aZ1lwyA/LKokwup81tBV11P7BTbUBTISmzkd8GA=="
    schema:
      properties:
        sa_account:
          "$ref": "/schemata/sessions#/definitions/sa_account"
        gspcp_session:
          "$ref": "/schemata/sessions#/definitions/gspcp_session"
      required:
        - sa_account
        - gspcp_session
      type:
        - object
  - description: ストリーム接続を開始する
    href: "/v1/sessions/{(%2Fschemata%2Fsessions%23%2Fdefinitions%2Fid)}"
    method: GET
    title: Connection
    rel: self
    http_header:
      X-CSRF-TOKEN: "aZ1lwyA/LKokwup81tBV11P7BTbUBTISmzkd8GA=="
    response_example:
      description: Server Eent Eventsのストリーム接続を開始する
      head: "
HTTP/1.1 200 OK\n
Content-Type: text/event-stream; charset=utf-8\n
Cache-Control: no-cache\n
Connection: keep-alive\n
Transfer-Encoding: chunked\n
Date: Mon, 19 Dec 2016 05:37:47 GMT
"
      body: "
event: heartBeat\n
id: 813bb7b8-f626-4219-ac72-4628571f7c6a/1\n
retry: 10000\n
data: 2d2027ea322c5f8e87ac110d859f69a5
"
properties:
  session:
    "$ref": "/schemata/sessions#/definitions/session"
id: schemata/sessions
